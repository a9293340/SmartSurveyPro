# SmartSurvey Pro - TODO 延後開發項目

> 📅 最後更新：2025-01-17
> 🎯 用途：追蹤已實作功能中因各種原因延後優化的部分 📋 狀態：🔄 延後中 |
> ✅ 已實作 | ❌ 已取消

---

## 📊 TODO 定義說明

### 兩種 TODO 類型：

#### 🚧 `TODO(human)` - 教學模式（不列入此文件）

- **定義**：框架已建立，核心邏輯標記供人類實作
- **狀態**：現在進行式，等待開發者實作
- **範例**：
  ```typescript
  // 在 auth.ts 中
  function isProtectedPath(path: string): boolean {
    // TODO(human): 實作路徑匹配邏輯
    // 學習重點：處理動態路由、正則表達式匹配
  }
  ```
- **管理方式**：不需要記錄在此文件，屬於正常開發流程

#### 🔄 `TODO(future)` - 延後開發項目（此文件追蹤）

- **定義**：功能已實作並可正常運作，但因特定原因延後優化
- **狀態**：基礎功能完成，等待未來升級
- **範例**：
  ```typescript
  // 在 rate-limit.ts 中
  // TODO(future): Rate Limit Redis 升級 [Phase 1 記憶體版本已足夠]
  const requestCounts = new Map(); // 目前使用記憶體，未來升級 Redis
  ```
- **管理方式**：記錄在此文件，按優先級排程

---

## 🔄 延後開發項目

### 來自 Task 1.2.2 - 中間件系統 ✅

#### 📈 Rate Limit Redis 升級

- **檔案位置**：`apps/web/server/middleware/02-rate-limit.ts:27`
- **當前狀態**：使用記憶體 Map 存儲，功能完整可用
- **延後原因**：Phase 1 單機部署記憶體版本已足夠 MVP 需求
- **預計實作**：Phase 2 考慮分散式部署時
- **影響程度**：低 - 單機部署記憶體版本足夠
- **實作內容**：
  ```typescript
  // 升級計劃
  - 整合 @upstash/ratelimit 套件
  - 真正的滑動窗口演算法
  - 分散式實例間共享限制數據
  - Redis 連接配置和容錯處理
  ```

#### 📈 專業日誌系統升級

- **檔案位置**：`apps/web/server/middleware/01-logger.ts:149-150`
- **當前狀態**：使用 console 輸出，功能完整可用
- **延後原因**：Phase 1 console 日誌已足夠開發和測試需求
- **預計實作**：Phase 2 生產環境準備時
- **影響程度**：低 - console 輸出已足夠開發階段使用
- **實作內容**：
  ```typescript
  // 升級計劃
  - 整合 Pino 或 Winston 專業日誌庫
  - 結構化日誌格式 (JSON)
  - 日誌聚合服務整合 (ELK Stack)
  - APM 工具整合 (New Relic/DataDog)
  - 日誌輪替和歸檔機制
  ```

---

## ✅ 已完成項目

_目前沒有已完成的延後項目_

---

## ❌ 已取消項目

_目前沒有已取消的延後項目_

---

## 📋 管理規範

### 新增延後項目 (`TODO(future)`)

1. **觸發時機**：實作功能時發現需要延後優化的部分
2. **判斷標準**：
   - ✅ 基礎功能已完成且可正常運作
   - ✅ 因合理原因（MVP 範圍、依賴、Phase 規劃）延後
   - ✅ 有明確的延後理由和預計實作時間
3. **記錄內容**：
   - 來源 Task 和檔案位置
   - 當前實作狀態描述
   - 具體延後原因
   - 預計實作時間點
   - 影響程度評估
   - 詳細升級計劃

4. **程式碼標記**：
   ```typescript
   // TODO(future): 功能描述 [延後原因] [詳見 /docs/TODO.md]
   ```

### 教學標記 (`TODO(human)`) - 不納入此文件

- **用途**：框架建立完成，標記供開發者實作的部分
- **特徵**：包含學習重點、實作提示
- **範例**：
  ```typescript
  // TODO(human): 實作功能邏輯
  // 學習重點：
  // - 重點1
  // - 重點2
  ```
- **管理**：屬於正常開發流程，完成後直接移除標記

### 完成延後項目

1. **實作完成**：按照升級計劃實作功能
2. **移除標記**：刪除程式碼中的 `TODO(future)` 註解
3. **更新狀態**：移至「✅ 已完成項目」區域
4. **記錄日期**：標註完成時間和實作內容

### 取消延後項目

1. **評估原因**：技術變更、需求變更、不再需要
2. **更新狀態**：移至「❌ 已取消項目」區域
3. **記錄原因**：說明取消的具體原因

---

## 📈 延後項目實作優先級

### 高優先級 (Phase 1 結束前)

- 無 (所有延後項目都是優化性質)

### 中優先級 (Phase 2 開始)

- 專業日誌系統 (生產環境需要)

### 低優先級 (按需實作)

- Rate Limit Redis 升級 (分散式部署時才需要)

---

## 📊 延後原因分類

- 📈 **Phase 規劃**：功能超出當前 Phase 範圍
- 🎯 **MVP 優先**：當前版本不需要，屬於優化項目
- 🏗️ **依賴限制**：需要其他基礎設施支持
- 🔧 **技術債**：使用臨時方案，計劃重構

---

_此文件專門追蹤已實作但因合理原因延後優化的功能，與 TODO(human) 教學標記區分管理_
